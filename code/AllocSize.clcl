
class AllocSizeClass
{
    def initialize() {
    }

    def allocSize():static ulong {
        return 128;
    }

    def main():static {
        a := AllocSizeClass();

        Clover.test("alloc size class", a.allocatedSize() == (128 + Clover.CLOVER2_OBJECT_HEADER_SIZE));

        memcpy(a.headOfMemory(), B"ABC\0".buffer, 4);

        Clover.test("alloc size class2", memcmp(a.headOfMemory(), B"ABC".buffer, 4) == 0);
    }
}
